<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Tarefa2_2019li1g052</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Tarefa2_2019li1g052.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe</td></tr></table><p class="caption">Tarefa2_2019li1g052</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Testes</a></li><li><a href="#g:2">Fun&#231;&#245;es principais da Tarefa 2.</a><ul><li><a href="#g:3">Fun&#231;&#245;es auxiliares da fun&#231;&#227;o principal da Tarefa 2 para jogadas do tipo Movimenta.</a><ul><li><a href="#g:4">Fun&#231;oes auxiliares da fun&#231;&#227;o (MOVJOG) de jogadas do tipo &quot;Movimenta C/B&quot; efetuadas no ch&#227;o.</a></li></ul></li><li><a href="#g:5">Fun&#231;&#227;o auxiliar da jogada Acelera</a></li><li><a href="#g:6">Fun&#231;&#227;o auxiliar da jogada Desacelera</a></li><li><a href="#g:7">Fun&#231;&#244;es auxiliares da jogada Dispara</a></li></ul></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:relat-243-rio_Tarefa2">relat&#243;rio_Tarefa2</a> :: String</li><li class="src short"><a href="#v:testesT2">testesT2</a> :: [(Int, <a href="LI11920.html#t:Jogada">Jogada</a>, <a href="LI11920.html#t:Estado">Estado</a>)]</li><li class="src short"><a href="#v:jogada">jogada</a> :: Int -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:movValido">movValido</a> :: Int -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:movJog">movJog</a> :: Int -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:movD">movD</a> :: <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a></li><li class="src short"><a href="#v:ajustangulo">ajustangulo</a> :: Double -&gt; Double</li><li class="src short"><a href="#v:movE">movE</a> :: <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a></li><li class="src short"><a href="#v:alturaPeca">alturaPeca</a> :: Double -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; Double</li><li class="src short"><a href="#v:inclinacaoPeca">inclinacaoPeca</a> :: <a href="LI11920.html#t:Peca">Peca</a> -&gt; Double</li><li class="src short"><a href="#v:difAlturas">difAlturas</a> :: <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; Double</li><li class="src short"><a href="#v:aceleraX">aceleraX</a> :: Int -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:desacelera">desacelera</a> :: Int -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:disparaValido">disparaValido</a> :: Int -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a></li><li class="src short"><a href="#v:colaMapa">colaMapa</a> :: Int -&gt; Double -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Mapa">Mapa</a> -&gt; <a href="LI11920.html#t:Mapa">Mapa</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:relat-243-rio_Tarefa2" class="def">relat&#243;rio_Tarefa2</a> :: String <a href="#v:relat-243-rio_Tarefa2" class="selflink">#</a></p><div class="doc"><h1 id="control.ch:relat-243-rio_Tarefa20" class="caption expander" onclick="toggleSection('ch:relat-243-rio_Tarefa20')">INTRODU&#199;&#195;O: </h1><div id="section.ch:relat-243-rio_Tarefa20" class="hide"><p>O objectivo desta tarefa consistia em, dado um jogador e um estado do jogo, avaliar a jogada requerida pelo jogador
nesse instante e permitir ou n&#227;o a sua execu&#231;&#227;o.</p></div><h1 id="control.ch:relat-243-rio_Tarefa21" class="caption expander" onclick="toggleSection('ch:relat-243-rio_Tarefa21')">OBJECTIVOS: </h1><div id="section.ch:relat-243-rio_Tarefa21" class="hide"><p>De acordo com os diversos comandos (Dispara,Acelera,Desacelera,Movimenta C<em>B</em>D/E) tentamos separar cada caso em fun&#231;&#245;es
diferentes, de modo a organizar melhor o c&#243;digo e torn&#225;-lo mais eficiente. Relativamente ao comando Dispara, criamos uma fun&#231;&#227;o 
<code><a href="Tarefa2_2019li1g052.html#v:disparaValido">disparaValido</a></code> que, dado um Jogador e o estado do jogo, avalia se &#233; poss&#237;vel ou n&#227;o a execu&#231;&#227;o deste comando, se sim, executa-o com a 
ajuda da fun&#231;&#227;o <code><a href="Tarefa2_2019li1g052.html#v:colaMapa">colaMapa</a></code>.
Relativamente aos comandos Acelera/Desacelera, criamos as fun&#231;&#245;es <code><a href="Tarefa2_2019li1g052.html#v:aceleraX">aceleraX</a></code> e <code><a href="Tarefa2_2019li1g052.html#v:desacelera">desacelera</a></code> que verificam a possibilidade da execu&#231;&#227;o
do comando Acelera ou Desacelera, respetivamente, e se sim, executam-no, mudando assim o estado do Jogador para Chao True/False 
dependendo do comando requerido.
Passando aos comandos Movimenta, dividimo-los nas quatro possibilidades (C,B,D,E). Com isto, come&#231;amos pelas Movimenta D e E utlizando 
as fun&#231;&#245;es <code><a href="Tarefa2_2019li1g052.html#v:movD">movD</a></code> e <code><a href="Tarefa2_2019li1g052.html#v:movE">movE</a></code> respetivamente, que avaliam se o comando &#233; execut&#225;vel (ou n&#227;o) tendo em conta o estado do jogo e o jogador em
causa. Nos Movimenta C e B criamos as restantes fun&#231;&#245;es que funcionam de maneira an&#225;loga &#224;s anteriores, estas avaliam as duas pe&#231;as 
(a pe&#231;a do jogador atual e a pe&#231;a alvo) e avaliam a diferen&#231;a de altura entre estas. Dependendo do valor que devolvem &#233; decidido o output da jogada.</p></div><h1 id="control.ch:relat-243-rio_Tarefa22" class="caption expander" onclick="toggleSection('ch:relat-243-rio_Tarefa22')">CONCLUS&#195;O: </h1><div id="section.ch:relat-243-rio_Tarefa22" class="hide"><p>Ap&#243;s a resolu&#231;&#227;o desta tarefa, acrescentamos testes que pensamos serem oportunos, na medida em que utilizavam grande parte do c&#243;digo e, 
para al&#233;m disso, tentamos sempre acrescentar testes que se parecessem com situa&#231;&#245;es reais durante o realizar do jogo. Assim, verificamos 
que com a nossa fun&#231;&#227;o principal obt&#237;nhamos os resultados esperados (nos testes) atrav&#233;s do site da disciplina.</p></div></div></div><h1 id="g:1">Testes</h1><div class="top"><p class="src"><a id="v:testesT2" class="def">testesT2</a> :: [(Int, <a href="LI11920.html#t:Jogada">Jogada</a>, <a href="LI11920.html#t:Estado">Estado</a>)] <a href="#v:testesT2" class="selflink">#</a></p><div class="doc"><p>Testes unit&#225;rios da Tarefa 2.</p><p>Cada teste &#233; um triplo (<em>identificador do <code><a href="LI11920.html#t:Jogador">Jogador</a></code></em>,<em><code><a href="LI11920.html#t:Jogada">Jogada</a></code> a efetuar</em>,<em><code><a href="LI11920.html#t:Estado">Estado</a></code> anterior</em>).</p></div></div><h1 id="g:2">Fun&#231;&#245;es principais da Tarefa 2.</h1><div class="top"><p class="src"><a id="v:jogada" class="def">jogada</a> <a href="#v:jogada" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>O identificador do <code><a href="LI11920.html#t:Jogador">Jogador</a></code> que efetua a jogada.</p></td></tr><tr><td class="src">-&gt; <a href="LI11920.html#t:Jogada">Jogada</a></td><td class="doc"><p>A <code><a href="LI11920.html#t:Jogada">Jogada</a></code> a efetuar.</p></td></tr><tr><td class="src">-&gt; <a href="LI11920.html#t:Estado">Estado</a></td><td class="doc"><p>O <code><a href="LI11920.html#t:Estado">Estado</a></code> anterior.</p></td></tr><tr><td class="src">-&gt; <a href="LI11920.html#t:Estado">Estado</a></td><td class="doc"><p>O <code><a href="LI11920.html#t:Estado">Estado</a></code> resultante ap&#243;s o jogador efetuar a jogada.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa2_2019li1g052.html#v:jogada">jogada</a></code> aplicada aos v&#225;rios comandos.</p><p>Efetua uma jogada.</p></div></div><h2 id="g:3">Fun&#231;&#245;es auxiliares da fun&#231;&#227;o principal da Tarefa 2 para jogadas do tipo Movimenta.</h2><div class="top"><p class="src"><a id="v:movValido" class="def">movValido</a> :: Int -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> <a href="#v:movValido" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:movJog" class="def">movJog</a> :: Int -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> <a href="#v:movJog" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:movJog">movJog</a></code> : Dado o n&#186; do jogador; a jogada; a informa&#231;&#227;o do jogador; a sua pe&#231;a atual e a pe&#231;a onde pretende mover (e o estado atual), realiza a a&#231;&#227;o</p></div></div><div class="top"><p class="src"><a id="v:movD" class="def">movD</a> :: <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> <a href="#v:movD" class="selflink">#</a></p><div class="doc"><p>a fun&#231;&#227;o <code><a href="Tarefa2_2019li1g052.html#v:movD">movD</a></code> avalia se o jogador pode efetuar a jogada (Movimenta D) e, se sim, executa-a alterando o valor da inclina&#231;&#227;o do jogador.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>movD (Jogador 1 2.5 4 1 (Ar 2 15 0)) (Movimenta D)
</code></strong>Jogador 1 2.5 4 1 (Ar 2 0 0) 
</pre></div></div><div class="top"><p class="src"><a id="v:ajustangulo" class="def">ajustangulo</a> :: Double -&gt; Double <a href="#v:ajustangulo" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:movE" class="def">movE</a> :: <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Jogada">Jogada</a> -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> <a href="#v:movE" class="selflink">#</a></p><div class="doc"><p>a fun&#231;&#227;o <code><a href="Tarefa2_2019li1g052.html#v:movE">movE</a></code> avalia se o jogador pode efetuar a jogada (Movimenta E) e, se sim, executa-a alterando o valor da inclina&#231;&#227;o do jogador.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>movE (Jogador 1 2.5 4 1 (Ar 2 15 0)) (Movimenta E)
</code></strong>Jogador 1 2.5 4 1 (Ar 2 30 0) 
</pre></div></div><h3 id="g:4">Fun&#231;oes auxiliares da fun&#231;&#227;o (MOVJOG) de jogadas do tipo &quot;Movimenta C/B&quot; efetuadas no ch&#227;o.</h3><div class="top"><p class="src"><a id="v:alturaPeca" class="def">alturaPeca</a> :: Double -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; Double <a href="#v:alturaPeca" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:alturaPeca">alturaPeca</a></code> : Dada a distancia do jogador e sua pe&#231;a, calcula a sua altura atual (ao sair da peca e ficar no ar)              </p></div></div><div class="top"><p class="src"><a id="v:inclinacaoPeca" class="def">inclinacaoPeca</a> :: <a href="LI11920.html#t:Peca">Peca</a> -&gt; Double <a href="#v:inclinacaoPeca" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:inclinacaoPeca">inclinacaoPeca</a></code> : Dada uma pe&#231;a (onde o jogador se encontra), calcula a inclina&#231;&#227;o do jogador (ao sair dessa pe&#231;a)</p></div></div><div class="top"><p class="src"><a id="v:difAlturas" class="def">difAlturas</a> :: <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; Double <a href="#v:difAlturas" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:difAlturas">difAlturas</a></code> : Com a dist do jogador, a pe&#231;a em que se encontra e a pe&#231;a onde pretende ir, calcula a diferen&#231;a de altura</p></div></div><h2 id="g:5">Fun&#231;&#227;o auxiliar da jogada Acelera</h2><div class="top"><p class="src"><a id="v:aceleraX" class="def">aceleraX</a> :: Int -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> <a href="#v:aceleraX" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:aceleraX">aceleraX</a></code> : Dado o n&#186; do jogador, a sua informa&#231;&#227;o e o estado do jogo atual, verifica se o comando Acelera &#233; v&#225;lido e se sim executa-o.</p></div></div><h2 id="g:6">Fun&#231;&#227;o auxiliar da jogada Desacelera</h2><div class="top"><p class="src"><a id="v:desacelera" class="def">desacelera</a> :: Int -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> <a href="#v:desacelera" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:desacelera">desacelera</a></code> : Dado o n&#186; do jogador, a sua informa&#231;&#227;o e o estado do jogo atual, verifica se o comando Desacelera &#233; v&#225;lido e se sim executa-o.</p></div></div><h2 id="g:7">Fun&#231;&#244;es auxiliares da jogada Dispara</h2><div class="top"><p class="src"><a id="v:disparaValido" class="def">disparaValido</a> :: Int -&gt; <a href="LI11920.html#t:Jogador">Jogador</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> -&gt; <a href="LI11920.html#t:Estado">Estado</a> <a href="#v:disparaValido" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:disparaValido">disparaValido</a></code> : Dado o n&#186; do jogador, a sua informa&#231;&#227;o e o estado do jogo atual, verifica se o comando Dispara &#233; v&#225;lido e se sim executa (colaMapa)</p></div></div><div class="top"><p class="src"><a id="v:colaMapa" class="def">colaMapa</a> :: Int -&gt; Double -&gt; <a href="LI11920.html#t:Peca">Peca</a> -&gt; <a href="LI11920.html#t:Mapa">Mapa</a> -&gt; <a href="LI11920.html#t:Mapa">Mapa</a> <a href="#v:colaMapa" class="selflink">#</a></p><div class="doc"><p><code><a href="Tarefa2_2019li1g052.html#v:colaMapa">colaMapa</a></code>: Dado o n&#186; da pista e a dist&#226;ncia do jogador no mapa, assim como a pe&#231;a anterior e o mapa atual, gera o novo mapa com com a altera&#231;&#227;o 
 da pe&#231;a anterior ao jogador para piso Cola.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.17.3</p></div></body></html>